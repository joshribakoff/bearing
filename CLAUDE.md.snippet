# Sailkit Worktree Workflow

**CRITICAL:** Never work directly in base project folders. Use git worktrees for isolation.

## Rules

1. **Base folders stay on main** - Check `./sailkit-dev/scripts/worktree-list` to see which folders are bases
2. **Create worktrees for tasks** - Each task gets its own worktree
3. **Never switch branches in base folders** - Use `worktree-new`, not `git checkout`
4. **Commit parent after child commits** - After committing in a worktree, commit and push the parent project to update `workflow.jsonl`

## Commands

```bash
# View all worktrees
./sailkit-dev/scripts/worktree-list

# Create worktree
./sailkit-dev/scripts/worktree-new fightingwithai.com feature-branch --purpose "Add login"

# Remove after merge
./sailkit-dev/scripts/worktree-cleanup fightingwithai.com feature-branch

# Sync manifest with git state
./sailkit-dev/scripts/worktree-sync
```

## Manifest

See `sailkit-dev/manifest.jsonl` for all tracked folders. Use scripts to interactâ€”never edit directly.

## Recovery

If you accidentally switch a base folder off main:
```bash
git -C fightingwithai.com checkout main
```
